@inherits LayoutComponentBase

<MudThemeProvider Theme="CastleTheme.Neon" IsDarkMode="true" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>

    <MudAppBar Elevation="0" Fixed="true" Class="glass-panel"
               Style="border-bottom:1px solid rgba(255,255,255,0.05);">
        <MudIconButton Icon="@Icons.Material.Filled.Menu"
                       Color="Color.Inherit"
                       Edge="Edge.Start"
                       OnClick="@ToggleDrawer" />

        <MudStack Row="true" AlignItems="AlignItems.Center" Class="ml-4">
            <MudIcon Icon="@Icons.Material.Filled.Castle" Color="Color.Primary" />
            <MudText Typo="Typo.h6" Class="fw-700" Style="letter-spacing:1px;">
                CASTLE+
            </MudText>
        </MudStack>

        <MudSpacer />

        <MudChip T="string"
                 Variant="Variant.Outlined"
                 Size="Size.Small"
                 Color="Color.Primary">
            DEV ENV
        </MudChip>
    </MudAppBar>

    <MudDrawer @bind-Open="_drawerOpen"
               ClipMode="DrawerClipMode.Always"
               Elevation="0"
               Style="background:#0b0f19; border-right:1px solid rgba(255,255,255,0.05);">

        <MudNavMenu Class="pt-8">

            <MudText Typo="Typo.overline" Class="px-4 mb-2" Color="Color.Secondary">
                Core
            </MudText>
            <MudNavLink Href="/dashboard"
                        Match="NavLinkMatch.All"
                        Icon="@Icons.Material.Filled.Dashboard">
                Dashboard
            </MudNavLink>

            <MudText Typo="Typo.overline" Class="px-4 mt-6 mb-2" Color="Color.Secondary">
                Rdzeń
            </MudText>
            <MudNavLink Href="/rdzen/nieruchomosci"
                        Icon="@Icons.Material.Filled.HomeWork">
                Nieruchomości
            </MudNavLink>
            <MudNavLink Href="/rdzen/budynki" 
                        Icon="@Icons.Material.Filled.Apartment">
                Budynki
            </MudNavLink>
            <MudNavLink Href="/rdzen/lokale" 
                        Icon="@Icons.Material.Filled.MeetingRoom">
                Lokale
            </MudNavLink>
            <MudNavLink Href="/rdzen/adresy"
                        Icon="@Icons.Material.Filled.Place">
                Adresy
            </MudNavLink>
            <MudNavLink Href="/rdzen/przypisania-adresow"
                        Icon="@Icons.Material.Filled.Link">
                Przypisania adresów
            </MudNavLink>
            <MudNavLink Href="/rdzen/pomieszczenia"
                        Icon="@Icons.Material.Filled.MeetingRoom">
                Pomieszczenia
            </MudNavLink>
            <MudNavLink Href="/rdzen/encje"
                        Icon="@Icons.Material.Filled.Layers">
                Encje
            </MudNavLink>

            <MudText Typo="Typo.overline" Class="px-4 mt-6 mb-2" Color="Color.Secondary">
                Podmioty
            </MudText>
            <MudNavLink Href="/podmioty/podmioty"
                        Icon="@Icons.Material.Filled.Business">
                Podmioty
            </MudNavLink>
            <MudNavLink Href="/podmioty/wlasnosci"
                        Icon="@Icons.Material.Filled.Assignment">
                Własności
            </MudNavLink>
            <MudNavLink Href="/podmioty/kontakty"
                        Icon="@Icons.Material.Filled.Contacts">
                Kontakty
            </MudNavLink>

            <MudText Typo="Typo.overline" Class="px-4 mt-6 mb-2" Color="Color.Secondary">
                Finanse
            </MudText>
            <MudNavLink Href="/finanse/faktury"
                        Icon="@Icons.Material.Filled.ReceiptLong">
                Faktury
            </MudNavLink>
            <MudNavLink Href="/finanse/platnosci"
                        Icon="@Icons.Material.Filled.Payment">
                Płatności
            </MudNavLink>
            <MudNavLink Href="/finanse/alokacje-kosztow"
                        Icon="@Icons.Material.Filled.PieChart">
                Alokacje Kosztów
            </MudNavLink>
            <MudNavLink Href="/finanse/kategorie-kosztow"
                        Icon="@Icons.Material.Filled.Category">
                Kategorie kosztów
            </MudNavLink>
            <MudNavLink Href="/finanse/pozycje-kosztow"
                        Icon="@Icons.Material.Filled.ReceiptLong">
                Pozycje kosztów
            </MudNavLink>
            <MudNavLink Href="/finanse/rozliczenia-platnosci"
                        Icon="@Icons.Material.Filled.SyncAlt">
                Rozliczenia płatności
            </MudNavLink>


            <MudText Typo="Typo.overline" Class="px-4 mt-6 mb-2" Color="Color.Secondary">
                Najem
            </MudText>
            <MudNavLink Href="/najem/przedmioty-najmu"
                        Icon="@Icons.Material.Filled.Description">
                Przedmioty najmu
            </MudNavLink>
            <MudNavLink Href="/najem/kaucje"
                        Icon="@Icons.Material.Filled.Savings">
                Kaucje
            </MudNavLink>
            <MudNavLink Href="/najem/skladniki-czynszu"
                        Icon="@Icons.Material.Filled.RequestQuote">
                Składniki czynszu
            </MudNavLink>
            <MudNavLink Href="/najem/umowy"
                        Icon="@Icons.Material.Filled.Assignment">
                Umowy najmu
            </MudNavLink>

            <MudText Typo="Typo.overline" Class="px-4 mt-6 mb-2" Color="Color.Secondary">
                Słowniki
            </MudText>
            <MudNavLink Href="/slowniki/jednostki-miary"
                        Icon="@Icons.Material.Filled.Scale">
                Jednostki Miary
            </MudNavLink>
            <MudNavLink Href="/slowniki/indeksacje" Icon="@Icons.Material.Filled.Timeline">
                Indeksacje (CRUD #3)
            </MudNavLink>
            <MudNavLink Href="/slowniki/waluty" Icon="@Icons.Material.Filled.AttachMoney">
                Waluty
            </MudNavLink>

            <MudText Typo="Typo.overline" Class="px-4 mt-6 mb-2" Color="Color.Secondary">
                Media
            </MudText>
            <MudNavLink Href="/media/rodzaje-mediow"
                        Icon="@Icons.Material.Filled.WaterDrop">
                Rodzaje Mediów
            </MudNavLink>
            <MudNavLink Href="/media/przylacza"
                        Icon="@Icons.Material.Filled.SettingsInputComposite">
                Przyłącza
            </MudNavLink>
            <MudNavLink Href="/media/liczniki"
                        Icon="@Icons.Material.Filled.ElectricMeter">
                Liczniki
            </MudNavLink>
            <MudNavLink Href="/media/odczyty"
                        Icon="@Icons.Material.Filled.FactCheck">
                Odczyty
            </MudNavLink>

        </MudNavMenu>
    </MudDrawer>

    <MudMainContent Class="pt-16 px-4 pb-4">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-6">
            @Body
        </MudContainer>
    </MudMainContent>

</MudLayout>

@code {
    private bool _drawerOpen = true;
    private void ToggleDrawer() => _drawerOpen = !_drawerOpen;
}
