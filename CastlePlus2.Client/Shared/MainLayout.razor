@inherits LayoutComponentBase

<MudThemeProvider Theme="CastleTheme.Neon" IsDarkMode="true" />
<MudPopoverProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>

    <MudAppBar Elevation="0" Fixed="true" Class="glass-panel"
               Style="border-bottom:1px solid rgba(255,255,255,0.05);">
        <MudIconButton Icon="@Icons.Material.Filled.Menu"
                       Color="Color.Inherit"
                       Edge="Edge.Start"
                       OnClick="@ToggleDrawer" />

        <MudStack Row="true" AlignItems="AlignItems.Center" Class="ml-4">
            <MudIcon Icon="@Icons.Material.Filled.Castle" Color="Color.Primary" />
            <MudText Typo="Typo.h6" Class="fw-700" Style="letter-spacing:1px;">
                CASTLE+
            </MudText>
        </MudStack>

        <MudSpacer />

        <MudChip T="string"
                 Variant="Variant.Outlined"
                 Size="Size.Small"
                 Color="Color.Primary">
            DEV ENV
        </MudChip>
    </MudAppBar>

    <MudDrawer @bind-Open="_drawerOpen"
               ClipMode="DrawerClipMode.Always"
               Elevation="0"
               Style="background:#0b0f19; border-right:1px solid rgba(255,255,255,0.05);">

        <MudNavMenu Class="pt-8">
            <MudText Typo="Typo.overline" Class="px-4 mb-2" Color="Color.Secondary">
                Core
            </MudText>
            <MudNavLink Href="/dashboard"
                        Match="NavLinkMatch.All"
                        Icon="@Icons.Material.Filled.Dashboard">
                Dashboard
            </MudNavLink>
            <MudNavLink Href="/rdzen/adresy"
                        Icon="@Icons.Material.Filled.Place">
                Adresy
            </MudNavLink>

            <MudText Typo="Typo.overline" Class="px-4 mt-6 mb-2" Color="Color.Secondary">
                Słowniki
            </MudText>
            <MudNavLink Href="/slowniki/jednostki-miary"
                        Icon="@Icons.Material.Filled.Scale">
                Jednostki Miary
            </MudNavLink>

            <MudNavLink Href="/slowniki/indeksacje" Icon="@Icons.Material.Filled.Timeline">
                Indeksacje (CRUD #3)
            </MudNavLink>

            <MudNavLink Href="/media/rodzaje-mediow"
                        Icon="@Icons.Material.Filled.WaterDrop">
                Rodzaje Mediów
            </MudNavLink>
            <MudNavLink Href="/slowniki/waluty" Icon="@Icons.Material.Filled.AttachMoney">
                Waluty
            </MudNavLink>

        </MudNavMenu>
    </MudDrawer>

    <MudMainContent Class="pt-16 px-4 pb-4">
        <MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="mt-6">
            @Body
        </MudContainer>
    </MudMainContent>

</MudLayout>

@code {
    private bool _drawerOpen = true;
    private void ToggleDrawer() => _drawerOpen = !_drawerOpen;
}
